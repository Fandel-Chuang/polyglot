# v1.0.1-alpha 发布说明（2025-08-20）

本次预发布聚焦于“中文/本地化友好度”与“多语种符号配置”的基础能力建设，并补充了中文黄金样例，确保在中文文件名与中文书名号场景下稳定运行。

核心变更
- 语种检测与按需加载 JSON
  - 英文文件名（仅 ASCII）采用内置 ASCII 符号映射；不加载 JSON。
  - 非英文文件名自动加载 symbol_mapping.json，并在词法分析前对源码进行本地化符号规范化（含中文书名号 “ ”、全角箭头等 → ASCII 对应）。
  - 同时用 JSON 中的符号映射覆盖内存中的 symbolMap，彻底由配置驱动。
- Windows 宽路径读文件（UTF-8 路径）
  - 使用 _wfopen 读取中文路径/中文文件名，解决 “Illegal byte sequence” 问题。
- 去除编译器硬编码的中文/全角映射
  - 删除 lexer.cpp 中所有“全角符号映射”“中文类型关键字”“真/假”硬编码，完全使用 JSON + 入口规范化方案。
- Lexer 运行时覆盖符号映射
  - 新增 Lexer::OverrideSymbolMap / ClearOverride 接口，以便在检测到非英文文件名时覆盖默认映射。
- 测试与样例
  - 新增与整理中文黄金样例：打印、变量声明（已知类型不加问号）、条件/循环/模式匹配骨架等。
  - 新增专门用例：中文文件名 + 中文书名号 + 全角返回箭头《-。

向后兼容性与注意事项
- 英文文件名保持原有行为，不受影响。
- 中文/本地化文件名将触发 JSON 驱动与符号规范化流程，请将符号映射与字符串引号配置维护在 symbol_mapping.json 中。
- README 中文示例将统一为中文书名号 “ ”（后续 PR 中更新）。

感谢参与
- Sonnet（主程序）：架构与内核改动、黄金用例
- GPT5（Infra/QA）：即将引入 CLI/CI 流程与 golden runner（参考 tools/cli 与 .github/workflows/）

标签
- v1.0.1-alpha（预发布）
