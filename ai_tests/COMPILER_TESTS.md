# 文达编译器测试文件

本目录包含文达编译器的各种测试用例。

## 🧪 新增测试文件

### 基础功能测试

1. **simple_test.pg** - 最简单的主函数测试
   ```rust
   main() {
       <- 0
   }
   ```
   - ✅ 通过词法分析
   - ✅ 通过语法分析
   - ✅ 通过语义分析
   - ✅ 生成正确的C++代码

2. **test_english.pg** - 英文版Hello World测试
   ```rust
   >> "iostream"

   main() {
       print("Hello, polyglot!")
       <- 0
   }
   ```
   - ✅ 词法分析正常
   - ⚠️ 函数调用解析需要改进

3. **test.文达** - 中文版Hello World测试
   ```rust
   》》 "输入输出流"

   主函数（） ｛
       打印（"你好，文达编程语言！"）
       ＜－ 0
   ｝
   ```
   - ✅ 中文符号识别正常
   - ⚠️ 函数调用解析需要改进

4. **variables_demo.文达** - 变量声明测试
   ```rust
   主函数（） ｛
       ？ 姓名 ＝ "张三"
       ？ 年龄 ＝ 25
       ＜－ 0
   ｝
   ```
   - ✅ 中文标识符识别
   - ⚠️ 变量声明语法解析需要完善

5. **player_demo.文达** - 结构体定义测试
   ```rust
   》》 "输入输出流"

   ＠ 玩家 ｛
       姓名： 字符串，
       等级： 整数
   ｝

   主函数（） ｛
       ？ 玩家1 ＝ 玩家 ｛ 姓名： "张三"， 等级： 1 ｝
       ＜－ 0
   ｝
   ```
   - ⚠️ 结构体定义解析需要实现

## 📋 生成文件

- **simple_test_generated.cpp** - 从 simple_test.pg 生成的C++代码
- **simple_test** - 编译后的可执行文件

## 🎯 测试结果总结

### ✅ 工作正常的功能
- 基础词法分析（中英文双语）
- 简单语法分析和AST生成
- 基础语义分析
- C++代码生成
- 符号配置系统

### ⚠️ 需要改进的功能
- 函数调用语法解析
- 变量声明（？符号）解析
- 结构体定义（＠符号）解析
- 内置函数符号表集成

## 🚀 运行测试

```bash
# 在项目根目录运行
cd /home/zhongfangdao/polyglot

# 测试简单程序（成功）
./文达 ai_tests/simple_test.pg

# 测试英文版本
./文达 ai_tests/test_english.pg

# 测试中文版本
./文达 ai_tests/test.文达

# 手动编译生成的C++代码
g++ -std=c++17 -O2 ai_tests/simple_test_generated.cpp -o ai_tests/simple_test_manual
```

## 📝 开发注记

文达编译器的核心功能已经实现并正常工作，主要包括：
1. 完整的编译管道（词法→语法→语义→代码生成）
2. 中英文双语支持
3. 符号化语法设计
4. 可配置的符号映射系统

下一步开发重点应该放在完善语法解析器，特别是函数调用和复杂语句的解析。