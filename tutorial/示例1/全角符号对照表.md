# polyglot 全角符号对照表

## 📋 符号转换规则

polyglot 语言支持全角符号，为中文编程提供更加纯正的体验。以下是半角符号与全角符号的对照表：

## 🔤 基础符号对照

| 功能 | 半角符号 | 全角符号 | Unicode | 说明 |
|------|----------|----------|---------|------|
| 输出 | `>>` | `》》` | U+300B U+300B | 双重右引号 |
| 变量声明 | `?` | `？` | U+FF1F | 全角问号 |
| 返回值 | `<-` | `＜－` | U+FF1C U+FF0D | 全角小于号+全角连字符 |
| 函数返回类型 | `->` | `－》` | U+FF0D U+300B | 全角连字符+右引号 |
| 结构定义 | `@` | `＠` | U+FF20 | 全角At符号 |
| 实现块 | `&` | `＆` | U+FF06 | 全角And符号 |
| 接口定义 | `%` | `％` | U+FF05 | 全角百分号 |
| 枚举定义 | `#` | `＃` | U+FF03 | 全角井号 |
| 常量定义 | `*` | `＊` | U+FF0A | 全角星号 |
| 循环 | `^` | `＾` | U+FF3E | 全角脱字符 |
| 析构函数 | `~` | `～` | U+FF5E | 全角波浪号 |
| 成员访问 | `.` | `．` | U+FF0E | 全角句号 |
| 下划线self | `_` | `＿` | U+FF3F | 全角下划线 |

## 🔤 运算符对照

| 功能 | 半角符号 | 全角符号 | Unicode | 说明 |
|------|----------|----------|---------|------|
| 赋值 | `=` | `＝` | U+FF1D | 全角等号 |
| 加法 | `+` | `＋` | U+FF0B | 全角加号 |
| 减法 | `-` | `－` | U+FF0D | 全角减号 |
| 乘法 | `*` | `＊` | U+FF0A | 全角星号 |
| 除法 | `/` | `／` | U+FF0F | 全角斜杠 |
| 取模 | `%` | `％` | U+FF05 | 全角百分号 |
| 幂运算 | `**` | `＊＊` | U+FF0A U+FF0A | 双全角星号 |
| 等于 | `==` | `＝＝` | U+FF1D U+FF1D | 双全角等号 |
| 不等于 | `!=` | `！＝` | U+FF01 U+FF1D | 全角感叹号+全角等号 |
| 小于 | `<` | `＜` | U+FF1C | 全角小于号 |
| 大于 | `>` | `＞` | U+FF1E | 全角大于号 |
| 小于等于 | `<=` | `＜＝` | U+FF1C U+FF1D | 全角小于号+全角等号 |
| 大于等于 | `>=` | `》＝` | U+300B U+FF1D | 右引号+全角等号 |
| 逻辑与 | `&&` | `＆＆` | U+FF06 U+FF06 | 双全角And符号 |
| 逻辑或 | `\|\|` | `｜｜` | U+FF5C U+FF5C | 双全角竖线 |
| 逻辑非 | `!` | `！` | U+FF01 | 全角感叹号 |

## 🔤 标点符号对照

| 功能 | 半角符号 | 全角符号 | Unicode | 说明 |
|------|----------|----------|---------|------|
| 左花括号 | `{` | `｛` | U+FF5B | 全角左花括号 |
| 右花括号 | `}` | `｝` | U+FF5D | 全角右花括号 |
| 左圆括号 | `(` | `（` | U+FF08 | 全角左圆括号 |
| 右圆括号 | `)` | `）` | U+FF09 | 全角右圆括号 |
| 左方括号 | `[` | `［` | U+FF3B | 全角左方括号 |
| 右方括号 | `]` | `］` | U+FF3D | 全角右方括号 |
| 冒号 | `:` | `：` | U+FF1A | 全角冒号 |
| 分号 | `;` | `；` | U+FF1B | 全角分号 |
| 逗号 | `,` | `，` | U+FF0C | 全角逗号 |
| 双引号 | `"` | `"”` | U+FF02/U+300C/U+300D | 全角双引号或中文直角引号 |
| 单引号 | `'` | `'‘` | U+FF07/U+300E/U+300F | 全角单引号或中文双直角引号 |

## 🌟 使用示例对比

### 半角符号版本：
```polyglot
@ Student {
    name: s,
    age: i
}

& Student {
    Student(name: s, age: i) {
        <- Student { name: name, age: age }
    }

    show_info() {
        >>("姓名: " + _.name)
        >>("年龄: " + _.age)
    }
}

main() {
    ? student = Student("张三", 20)
    student.show_info()
    <- 0
}
```

### 全角符号版本：
```polyglot
＠ 学生 ｛
    姓名： s,
    年龄： i
｝

＆ 学生 ｛
    学生（姓名： s， 年龄： i） ｛
        ＜－ 学生 ｛ 姓名： 姓名， 年龄： 年龄 ｝
    ｝

    显示信息（） ｛
        》》（「姓名： 」 ＋ 姓名）
        》》（「年龄： 」 ＋ _.年龄）
    ｝
｝

主函数（） ｛
    ？ 学生 ＝ 学生（「张三」， 20）
    学生．显示信息（）
    ＜－ 0
｝
```

## 💡 全角符号的优势

1. **视觉一致性** - 与中文文字宽度保持一致
2. **文化适应** - 符合中文排版习惯
3. **输入便利** - 中文输入法可直接输入
4. **美观整洁** - 在中文环境下更加协调

## 🔧 编辑器支持建议

为了更好地支持全角符号编程，建议编辑器提供：

1. **语法高亮** - 识别全角符号的语法结构
2. **自动补全** - 支持全角符号的代码补全
3. **符号转换** - 提供半角/全角符号快速转换
4. **字体设置** - 使用等宽字体确保对齐

## ⚠️ 注意事项

1. **文件编码** - 必须使用 UTF-8 编码保存文件
2. **输入方法** - 确保输入法支持全角符号
3. **模式一致性** - 单个文件内必须保持符号模式一致（见下方说明）
4. **团队协作** - 团队内统一使用半角或全角符号

## 🔍 编译器符号模式检测

polyglot 编译器具有智能符号模式检测功能：

### 📋 自动模式识别规则

编译器会在解析文件时自动检测符号模式：

1. **检测依据** - 根据文件中首次出现的关键符号确定模式
2. **检测符号** - 主要检测 `>>`/`》》`、`?`/`？`、`<-`/`＜－` 等
3. **模式锁定** - 一旦检测到模式，整个文件必须保持一致

### ✅ 正确示例

#### 半角模式文件：
```polyglot
// 文件：example_half.pg - 半角模式
main() {
    ? name = "张三"        // ✅ 半角符号
    >>("Hello: " + name)   // ✅ 半角符号
    <- 0                   // ✅ 半角符号
}
```

#### 全角模式文件：
```polyglot
// 文件：example_full.pg - 全角模式
主函数（） ｛
    ？ 姓名 ＝ "张三"        // ✅ 全角符号
    》》（"你好： " ＋ 姓名）  // ✅ 全角符号
    ＜－ 0                   // ✅ 全角符号
｝
```

### ❌ 错误示例（编译报错）

```polyglot
// 文件：mixed_error.pg - 混合模式（会报错）
main() {                    // 半角模式开始
    ? name = "张三"         // ✅ 半角符号
    》》（"Hello"）          // ❌ 编译错误！混合了全角符号
    <- 0                    // ✅ 半角符号
}
```

### 🚨 编译器错误信息

当检测到混合模式时，编译器会给出清晰的错误信息：

```
错误：符号模式不一致
文件：mixed_error.pg
行号：3
详情：检测到全角符号 '》》'，但文件已确定为半角模式
建议：请统一使用半角符号 '>>' 或将整个文件转换为全角模式
```

### 🔧 模式转换工具建议

为了方便开发者，建议编译器提供模式转换工具：

```bash
# 将半角模式文件转换为全角模式
polyglot convert --to-fullwidth example.pg

# 将全角模式文件转换为半角模式
polyglot convert --to-halfwidth example.pg

# 检查文件的符号模式
polyglot check-mode example.pg
```

### 💡 设计优势

这种设计带来以下优势：

1. **一致性保证** - 避免同一文件内符号混乱
2. **可读性提升** - 统一的符号风格更易阅读
3. **维护便利** - 减少因符号不一致导致的维护问题
4. **团队协作** - 强制团队内保持符号风格统一
5. **错误预防** - 编译时就发现符号不一致问题

### 🎯 最佳实践建议

1. **项目级统一** - 整个项目使用同一种符号模式
2. **工具辅助** - 使用编辑器插件自动检测和提示
3. **代码审查** - 在代码审查中检查符号一致性
4. **文档说明** - 在项目文档中明确规定使用的符号模式

## 🔤 中文引号使用规范

### 推荐使用引号：

#### 1. **全角双引号** - 字符串首选
- **字符串**：`""`
- **长文本**：`""`

```polyglot
？ 姓名 ＝ "张三"
？ 消息 ＝ "你好，欢迎使用polyglot编程语言"
？ 路径 ＝ "C：\用户\文档\项目.pg"
```

#### 2. **全角单引号** - 字符和短文本
- **字符**：`''`
- **特殊符号**：`''`

```polyglot
？ 等级 ＝ 'A'
？ 分隔符 ＝ ','
？ 换行符 ＝ '\n'
？ 制表符 ＝ '\t'
```

#### 3. **引号嵌套示例**

```polyglot
？ 对话 ＝ "老师说：'今天要学习编程'"
？ 代码示例 ＝ "函数调用： main() { >>('Hello World') }"
？ JSON数据 ＝ "{'name': '张三', 'age': 20}"
```

### 输入方法：

- **Windows**: 中文输入法 + Shift+2 (「」)
- **macOS**: 中文输入法 + Option+[ 和 Option+]
- **Linux**: 中文输入法或直接输入 Unicode

## 🔤 中文类型系统

polyglot 还支持完全中文化的类型系统：

| 英文类型 | 中文类型 | 符号简写 | 使用示例 |
|----------|----------|----------|----------|
| `string` | `字符串` | `s` | `姓名： 字符串` |
| `int` | `整数` | `i` | `年龄： 整数` |
| `float` | `浮点数` | `F` | `成绩： 浮点数` |
| `bool` | `布尔` | `b` | `是否在校： 布尔` |
| `char` | `字符` | `c` | `等级： 字符` |
| `array` | `数组` | `［T］` | `课程： ［字符串］` |

### 类型声明示例：
```polyglot
＠ 学生 ｛
    姓名： 字符串，
    年龄： 整数，
    成绩： 浮点数，
    是否在校： 布尔
｝

生成问候语（姓名： 字符串， 年龄： 整数） －》 字符串 ｛
    ＜－ 「你好，」 ＋ 姓名
｝
```

更多详细信息请参考 [中文类型系统文档](中文类型系统.md)。

这种全角符号、中文引号和中文类型系统的完美结合，让 polyglot 成为真正意义上的"纯中文编程语言"