# polyglot 中文类型系统

## 📋 中文类型对照表

polyglot 语言支持完全中文化的类型系统，让中文开发者能够用母语进行类型声明。

## 🔤 基础类型对照

| 英文类型 | 中文类型 | 符号简写 | 说明 | 示例值 |
|----------|----------|----------|------|--------|
| `string` | `字符串` | `s` | 文本数据 | `「Hello」` |
| `int` | `整数` | `i` | 整型数字 | `42` |
| `float` | `浮点数` | `F` | 小数 | `3.14` |
| `bool` | `布尔` | `b` | 真假值 | `true/false` |
| `char` | `字符` | `c` | 单个字符 | `『A』` |
| `byte` | `字节` | `B` | 字节数据 | `255` |
| `void` | `空` | `V` | 无返回值 | - |

## 🗂️ 复合类型对照

| 英文类型 | 中文类型 | 符号简写 | 说明 | 示例 |
|----------|----------|----------|------|------|
| `array` | `数组` | `［T］` | 同类型元素集合 | `［字符串］` |
| `list` | `列表` | `〈T〉` | 动态数组 | `〈整数〉` |
| `map` | `映射` | `｛K:V｝` | 键值对集合 | `｛字符串:整数｝` |
| `set` | `集合` | `{T}` | 唯一元素集合 | `{字符串}` |
| `tuple` | `元组` | `(T1,T2)` | 多类型组合 | `(字符串,整数)` |
| `optional` | `可选` | `T?` | 可空类型 | `字符串?` |

## 📚 自定义类型示例

### 1. 结构体定义
```polyglot
＠ 学生 ｛
    姓名： 字符串，
    年龄： 整数，
    成绩： 浮点数，
    是否在校： 布尔
｝
```

### 2. 枚举类型
```polyglot
＃ 学期 ｛
    春季，
    夏季，
    秋季，
    冬季
｝

＃ 成绩等级 ｛
    优秀（分数： 浮点数），
    良好（分数： 浮点数），
    及格（分数： 浮点数），
    不及格（原因： 字符串）
｝
```

### 3. 接口定义
```polyglot
％ 可评分 ｛
    计算总分（） －》 浮点数
    获取等级（） －》 字符串
    是否及格（） －》 布尔
｝
```

## 🔧 函数签名示例

### 基础函数
```polyglot
// 简单函数
问候（姓名： 字符串） －》 字符串 ｛
    ＜－ 「你好，」 ＋ 姓名
｝

// 多参数函数
计算平均分（语文： 浮点数， 数学： 浮点数， 英语： 浮点数） －》 浮点数 ｛
    ＜－ （语文 ＋ 数学 ＋ 英语） ／ 3.0
｝

// 返回复合类型
创建学生信息（姓名： 字符串， 年龄： 整数） －》 学生 ｛
    ＜－ 学生 ｛ 姓名： 姓名， 年龄： 年龄， 成绩： 0.0， 是否在校： true ｝
｝
```

### 泛型函数
```polyglot
// 泛型函数（使用英文泛型参数）
查找最大值＜T＞（列表： ［T］） －》 T ｛
    // 实现...
｝

// 中文泛型（概念性）
查找最大值（列表： ［任意类型］） －》 任意类型 ｛
    // 实现...
｝
```

## 🌟 数组和集合类型

### 数组声明
```polyglot
？ 姓名列表： ［字符串］ ＝ ［「张三」， 「李四」， 「王五」］
？ 成绩列表： ［浮点数］ ＝ ［85.5， 92.0， 78.5］
？ 在校状态： ［布尔］ ＝ ［true， true， false］
```

### 映射类型
```polyglot
？ 学生成绩： ｛字符串：浮点数｝ ＝ ｛
    「张三」： 85.5，
    「李四」： 92.0，
    「王五」： 78.5
｝
```

### 可选类型
```polyglot
？ 中间名： 字符串? ＝ null  // 可能为空的字符串
？ 备注： 字符串? ＝ 「优秀学生」  // 有值的可选类型
```

## 💡 类型转换

### 显式转换
```polyglot
？ 年龄字符串 ＝ 「25」
？ 年龄数字： 整数 ＝ 转为整数（年龄字符串）
？ 成绩： 浮点数 ＝ 转为浮点数（年龄数字）
```

### 类型检查
```polyglot
判断类型（值： 任意类型） －》 字符串 ｛
    ＃（类型（值）） ｛
        字符串 ＝》 ＜－ 「这是字符串类型」，
        整数 ＝》 ＜－ 「这是整数类型」，
        浮点数 ＝》 ＜－ 「这是浮点数类型」，
        布尔 ＝》 ＜－ 「这是布尔类型」，
        ＿ ＝》 ＜－ 「未知类型」
    ｝
｝
```

## 🔍 类型推导

polyglot 支持智能类型推导，即使使用中文类型也可以自动推断：

```polyglot
// 自动推导为字符串类型
？ 姓名 ＝ 「张三」  // 推导为：字符串

// 自动推导为整数类型
？ 年龄 ＝ 25        // 推导为：整数

// 自动推导为浮点数类型
？ 身高 ＝ 175.5     // 推导为：浮点数

// 自动推导为布尔类型
？ 是学生 ＝ true    // 推导为：布尔

// 显式类型声明（覆盖推导）
？ 成绩： 浮点数 ＝ 85  // 明确指定为浮点数，而非整数
```

## 📈 高级类型特性

### 联合类型
```polyglot
＃ 学生状态 ｛
    在校（学号： 字符串），
    休学（原因： 字符串， 预期返校： 字符串），
    毕业（毕业时间： 字符串， 学位： 字符串）
｝
```

### 类型别名
```polyglot
// 为复杂类型创建别名
类型 学生映射 ＝ ｛字符串：学生｝
类型 成绩记录 ＝ ［浮点数］
类型 课程信息 ＝ （名称：字符串， 学分：整数， 教师：字符串）
```

## 🎯 实际应用示例

### 学生管理系统的完整类型定义

```polyglot
＠ 课程 ｛
    名称： 字符串，
    代码： 字符串，
    学分： 整数，
    教师： 字符串，
    容量： 整数，
    已注册人数： 整数
｝

＠ 学生 ｛
    学号： 字符串，
    姓名： 字符串，
    年龄： 整数，
    专业： 字符串，
    年级： 整数，
    已修课程： ［课程］，
    总学分： 整数，
    平均绩点： 浮点数
｝

＠ 成绩单 ｛
    学生： 学生，
    课程成绩： ｛字符串：浮点数｝，  // 课程代码 -> 成绩
    学期： 字符串，
    总平均分： 浮点数
｝
```

这种中文类型系统让 polyglot 真正实现了"中文编程"的理想，从语法到类型系统都完全本土化！